# 템플릿 메서드

알고리즘을 메소드로 구현할 때 서브클래스 알고리즘의 일부 단계를 재정의할 수 있도록 하여 일부 단계의 정의를 미룰 때

메소드안에 공통적인 부분은 상위클래스로 올려서 아래에서는 차이나는 부분만 구현하겠다.

-> 전체적으로 동일하면서 부분적으로는 다른 구문으로 구성된 메서드의 코드 중복을 최소화 한다. 

동일한 기능을 구현하면서 각 하위 클래스에서 구체적으로 정의할 부분을 오버라이드

전체 알고리즘 코드를 재사용하는데 유용

<img width="546" alt="image" src="https://user-images.githubusercontent.com/57888020/172168432-66b1013b-f688-4c6e-b0cf-9ef9f54bcf95.png">


## 용어

템플릿 메서드 : 공통되는 메서드, 상위 클래스에 구현되어 있다.
primitive(hook) 메서드 : 하위 클래스에 구체적으로 정의되어 오버라이드 될 필요가 있는 메서드

<img width="592" alt="image" src="https://user-images.githubusercontent.com/57888020/172168517-73f04bbc-093c-41a2-992e-602b4b440f4e.png">

<img width="558" alt="image" src="https://user-images.githubusercontent.com/57888020/172168591-13ef4ab3-781a-4fca-89a1-d51011859c91.png">

이때 primitive 메서드가 특정 객체를 생성하면 팩토리 메서드가 되는 것!

## 적용

코드의 중복을 막기 위하여 하위 클래스들에게서 공통적인 부분을 추출하여 하나의 클래스로 정의하고자 할 때

하위 클래스 확장을 제어하고 싶을 때

상위클래스에서 재정의될 부분을 지정 : 상위클래스를 바꾸면 템플릿 메소드의 의의가 없어짐. 처음에 잘 정해야

## 참여 요소

### Abstract Class

- 기본 골격을 구성하는 템플릿 메소드 구현 -> 변동되지 않는 부분 구현
- 하위 클래스에서 구현해야할 primitive 정의 -> proteced : 위에서 호출되는 경우가 많음
- primitive는 최소화하며, 템플릿 메소드과 구분되는 이름을 붙인다.

### Concrete Class

- 템플릿 메소드에서 이용될 primitive 구현 -> 변동되는 부분 구현

## 결과

코드 재사용을 위한 기본적인 방법이다.

- 상속 : 하위 클래스가 상위 클래스의 함수를 호출
- 템플릿 메소드 패턴 : 상위 클래스가 하위 클래스가 구현한 함수를 호출(Inverted Control Structure)

전략 패턴과 달리 알고리즘 전체가 아니라 일부를 변경한다. : 목적은 비슷하다. 유연하게 바꾸는 것이 공통점

객체를 생성해야 할 경우 종종 팩토리 메소드를 호출한다.

## 기타

템플릿 메소드 패턴은 모든 추상 클래스에서 발견될 수 있다.

관련 패턴 : 전략 패턴, 팩토리 메소드 패턴

템플릿 메소드 함수들이 변화하는 객체를 만들고자 할 때 팩토리 메소드를 호출한다.

템플릿 메소드 패턴과 전략 패턴은 알고리즘을 변경한다.

- 템플릿 메소드 : 상속을 이용하여 알고리즘의 일부를 변경
- 전략 : 위임을 이용하여 알고리즘의 전체를 변경
